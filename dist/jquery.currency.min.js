(function(b){var c={beforeConvert:!1,afterConvert:!1,baseCurrency:"EUR",microformat:{selector:"span.money",amount:{selector:"span.amount"},currency:{selector:"abbr.currency",value:["title","content"]},unit:{selector:"abbr.unit",value:["title","content"]}},symbols:{ALL:"Lek",ARS:"$",AWG:"f",AUD:"$",BSD:"$",BBD:"$",BYR:"p.",BZD:"BZ$",BMD:"$",BOB:"$b",BAM:"KM",BWP:"P",BRL:"R$",BND:"$",CAD:"$",KYD:"$",CLP:"$",CNY:"&yen;",COP:"$",CRC:"c",HRK:"kn",CZK:"Kc",DKK:"kr",DOP:"RD$",XCD:"$",EGP:"&pound;",SVC:"$",
EEK:"kr",EUR:"&euro;",FKP:"&pound;",FJD:"$",GBP:"&pound;",GHC:"c",GIP:"&pound;",GTQ:"Q",GGP:"&pound;",GYD:"$",HNL:"L",HKD:"$",HUF:"Ft",ISK:"kr",IDR:"Rp",ILS:"&#8362;",IMP:"&pound;",JMD:"J$",JPY:"&yen;",JEP:"&pound;",LVL:"Ls",LBP:"&pound;",LRD:"$",LTL:"Lt",MYR:"RM",MXN:"$",MZN:"MT",NAD:"$",ANG:"f",NZD:"$",NIO:"C$",NOK:"kr",PAB:"B/.",PYG:"Gs",PEN:"S/.",PLN:"zl",RON:"lei",RUB:"&#1088;&#1091;&#1073;",SHP:"&pound;",SGD:"$",SBD:"$",SOS:"S",ZAR:"R",SEK:"kr",CHF:"CHF",SRD:"$",SYP:"&pound;",TWD:"NT$",TTD:"TT$",
TRY:"TL",TRL:"&pound;",TVD:"$",USD:"$",UYU:"$U",VEF:"Bs",ZWD:"Z$"},rates:{},parseAmount:function(d){return parseFloat(d)},formatAmount:function(d,b){var a=b&&parseInt(b.precision);return d.toFixed(isNaN(a)?2:a)}};b.extend({currency:{getRate:function(d,b){var a=d===c.baseCurrency?1:c.rates[d],f=b===c.baseCurrency?1:c.rates[b];if(a&&f)return f/a},convert:function(d,e,a){e=parseFloat(b.currency.getRate(e,a));return isNaN(e)?!1:d*e},getSymbol:function(d){return c.symbols[d]},configure:function(d){d&&
d.symbols&&(d.symbols=b.extend({},c.symbols,d.symbols));return c=b.extend(c,d)},getDefaults:function(){return c},parse:function(d,e){var a=b.extend({},c,e),f=function(e){var c=a.microformat,f=d.find(c[e].selector),c=b.isArray(c[e].value)?c[e].value:[c[e].value],g=null;if(d.data(e))return d.data(e);b.each(c,function(d,b){if(b&&"content"!==b){if(f.attr(b))return g=f.attr(b),!1}else if(f.html()&&f.html().match(/\S/))return g=f.html(),!1});return g},g=c.parseAmount(f("amount"));return isNaN(g)?null:{amount:g,
currency:f("currency"),unit:f("unit"),precision:d.data("precision")||((g+"").match(/\..+$/)||[".00"])[0].length-1}},update:function(d,e,a){var f=b.extend({},c,a),a=function(a,e){var c=f.microformat,h=d.find(c[a].selector),c=b.isArray(c[a].value)?c[a].value:[c[a].value];b.each(c,function(b,a){a&&"content"!==a&&h.attr(a)&&h.attr(a).match(/\S/)?h.attr(a,e):h.html()&&h.html().match(/\S/)&&h.html(e)})};d.data(e);a("amount",b.currency.formatAmount(e.amount,d.data()));e.currency&&a("currency",e.currency);
e.unit&&a("unit",e.unit)},formatAmount:c.formatAmount}});b.fn.currency=function(d,e){var a=b.extend({},a,c,e);this.find(a.microformat.selector).andSelf().filter(a.microformat.selector).each(function(){var c,e=b(this),i=b.currency.parse(e,a);c=i?b.currency.convert(i.amount,i.currency||a.baseCurrency,d):null;"number"===typeof c&&(b.isFunction(a.beforeConvert)&&a.beforeConvert(this,arguments),b.extend(i,{amount:c,currency:d,unit:a.symbol||b.currency.getSymbol(d)||""}),b.currency.update(e,i,a),b.isFunction(a.afterConvert)&&
a.afterConvert(this,arguments))});return this}})(jQuery);
