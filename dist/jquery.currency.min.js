(function(e){var c={beforeConvert:!1,afterConvert:!1,baseCurrency:"EUR",microformat:{selector:"span.money",amount:{selector:"span.amount"},currency:{selector:"abbr.currency",value:["title","content"]},unit:{selector:"abbr.unit",value:["title","content"]}},symbols:{ALL:"Lek",ARS:"$",AWG:"f",AUD:"$",BSD:"$",BBD:"$",BYR:"p.",BZD:"BZ$",BMD:"$",BOB:"$b",BAM:"KM",BWP:"P",BRL:"R$",BND:"$",CAD:"$",KYD:"$",CLP:"$",CNY:"&yen;",COP:"$",CRC:"c",HRK:"kn",CZK:"Kc",DKK:"kr",DOP:"RD$",XCD:"$",EGP:"&pound;",SVC:"$",
EEK:"kr",EUR:"&euro;",FKP:"&pound;",FJD:"$",GBP:"&pound;",GHC:"c",GIP:"&pound;",GTQ:"Q",GGP:"&pound;",GYD:"$",HNL:"L",HKD:"$",HUF:"Ft",ISK:"kr",IDR:"Rp",ILS:"&#8362;",IMP:"&pound;",JMD:"J$",JPY:"&yen;",JEP:"&pound;",LVL:"Ls",LBP:"&pound;",LRD:"$",LTL:"Lt",MYR:"RM",MXN:"$",MZN:"MT",NAD:"$",ANG:"f",NZD:"$",NIO:"C$",NOK:"kr",PAB:"B/.",PYG:"Gs",PEN:"S/.",PLN:"zl",RON:"lei",RUB:"&#1088;&#1091;&#1073;",SHP:"&pound;",SGD:"$",SBD:"$",SOS:"S",ZAR:"R",SEK:"kr",CHF:"CHF",SRD:"$",SYP:"&pound;",TWD:"NT$",TTD:"TT$",
TRY:"TL",TRL:"&pound;",TVD:"$",USD:"$",UYU:"$U",VEF:"Bs",ZWD:"Z$"},rates:{},parseAmount:function(b){return parseFloat(b)},formatAmount:function(b,e){var a=e&&parseInt(e.precision);return b.toFixed(isNaN(a)||2>a?2:a)}};e.extend({currency:{getRate:function(b,e){var a=b===c.baseCurrency?1:c.rates[b],f=e===c.baseCurrency?1:c.rates[e];if(a&&f)return f/a},convert:function(b,d,a){d=parseFloat(e.currency.getRate(d,a));return isNaN(d)?!1:b*d},getSymbol:function(b){return c.symbols[b]},configure:function(b){b&&
b.symbols&&(b.symbols=e.extend({},c.symbols,b.symbols));return c=e.extend(c,b)},getDefaults:function(){return c},parse:function(b,d){var a=e.extend({},c,d),f=function(d){var c=a.microformat,f=b.find(c[d].selector),c=e.isArray(c[d].value)?c[d].value:[c[d].value],g=null;if(b.data(d))return b.data(d);e.each(c,function(b,a){if(a&&"content"!==a){if(f.attr(a))return g=f.attr(a),!1}else if(f.html()&&f.html().match(/\S/))return g=f.html(),!1});return g},g=c.parseAmount(f("amount"));return isNaN(g)?null:{amount:g,
currency:f("currency"),unit:f("unit"),precision:b.data("precision")||((g+"").match(/\..+$/)||[".00"])[0].length-1}},update:function(b,d,a){var f=e.extend({},c,a),a=function(a,d){var c=f.microformat,h=b.find(c[a].selector),c=e.isArray(c[a].value)?c[a].value:[c[a].value];e.each(c,function(a,b){b&&"content"!==b&&h.attr(b)&&h.attr(b).match(/\S/)?h.attr(b,d):h.html()&&h.html().match(/\S/)&&h.html(d)})};b.data(d);a("amount",e.currency.formatAmount(d.amount,b.data()));d.currency&&a("currency",d.currency);
d.unit&&a("unit",d.unit)},formatAmount:c.formatAmount}});e.fn.currency=function(b,d){var a=e.extend({},a,c,d);this.find(a.microformat.selector).andSelf().filter(a.microformat.selector).each(function(){var c,d=e(this),i=e.currency.parse(d,a);c=i?e.currency.convert(i.amount,i.currency||a.baseCurrency,b):null;"number"===typeof c&&(e.isFunction(a.beforeConvert)&&a.beforeConvert(this,arguments),e.extend(i,{amount:c,currency:b,unit:a.symbol||e.currency.getSymbol(b)||""}),e.currency.update(d,i,a),e.isFunction(a.afterConvert)&&
a.afterConvert(this,arguments))});return this}})(jQuery);
